<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tahleel Notes</title>
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/942/942748.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --text-dark:#1e293b;--text-light:#f8fafc;--muted-dark:#94a3b8;--accent:linear-gradient(135deg,#6d28d9,#2563eb);
      --glass-light:rgba(255,255,255,0.25);--glass-dark:rgba(0,0,0,0.35);--glass-border:rgba(255,255,255,0.3);
      --bg-light:linear-gradient(135deg,#e0e7ff 0%,#bae6fd 50%,#fef9c3 100%);
      --bg-dark:linear-gradient(135deg,#0f172a 0%,#1e1b4b 60%,#312e81 100%);
    }
    body{margin:0;font-family:Poppins;height:100vh;display:flex;flex-direction:column;align-items:center;padding:30px;
      color:var(--text-dark);background:var(--bg-light);transition:background .6s,color .6s;}
    header{display:flex;justify-content:space-between;align-items:center;width:100%;max-width:1200px;margin-bottom:24px;}
    .logo{font-size:28px;width:60px;height:60px;display:grid;place-items:center;border-radius:14px;background:var(--glass-light);backdrop-filter:blur(20px);border:1px solid var(--glass-border);box-shadow:0 4px 30px rgba(0,0,0,.2);}
    .title-wrap{display:flex;flex-direction:column;}
    .title{font-size:22px;font-weight:600;letter-spacing:.3px;}
    .subtitle{font-size:14px;color:var(--muted-dark);}
    .toolbar{display:flex;gap:8px;align-items:center;}
    button{background:rgba(255,255,255,0.25);border:1px solid var(--glass-border);backdrop-filter:blur(20px);border-radius:10px;padding:8px 12px;cursor:pointer;font-weight:500;transition:.3s;}
    button:hover{box-shadow:0 0 10px rgba(255,255,255,0.3);}
    .input-section{width:100%;max-width:800px;margin-bottom:20px;display:flex;flex-direction:column;gap:10px;}
    .input-section input,.input-section textarea{width:100%;padding:10px 14px;border-radius:12px;border:1px solid var(--glass-border);background:var(--glass-light);backdrop-filter:blur(20px);font-family:Poppins;font-size:14px;color:inherit;}
    .input-section button{align-self:flex-end;background:var(--accent);color:white;border:none;padding:10px 20px;border-radius:10px;}
    .search-bar{width:100%;max-width:600px;margin-bottom:20px;display:flex;gap:10px;}
    .search-bar input{flex:1;padding:10px 14px;border-radius:10px;border:1px solid var(--glass-border);background:var(--glass-light);backdrop-filter:blur(20px);color:inherit;}
    .notes{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;width:100%;max-width:1200px;}
    .card{position:relative;padding:18px;border-radius:20px;background:var(--glass-light);border:1px solid var(--glass-border);backdrop-filter:blur(25px);box-shadow:0 8px 32px rgba(0,0,0,0.25);transition:.3s;cursor:pointer;}
    .card:hover{transform:translateY(-4px);}
    .note-title{font-weight:600;font-size:16px;margin-bottom:6px;}
    .note-text{font-size:14px;white-space:pre-wrap;}
    .actions{position:absolute;top:8px;right:8px;display:flex;gap:8px;}
    .icon-btn{background:rgba(255,255,255,0.2);border:none;border-radius:6px;padding:6px;cursor:pointer;}
    .icon-btn:hover{background:rgba(255,255,255,0.35);}
    .toast{position:fixed;bottom:30px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.7);color:#fff;padding:10px 16px;border-radius:10px;backdrop-filter:blur(10px);opacity:0;transition:opacity .3s;z-index:999;}
    .toast.show{opacity:1;}
    .dark-mode{background:var(--bg-dark);color:var(--text-light);}
    .dark-mode button{color:var(--text-light);background:var(--glass-dark);}
    .dark-mode .card{background:var(--glass-dark);color:var(--text-light);}
    .dark-mode .search-bar input,.dark-mode .input-section input,.dark-mode .input-section textarea{color:var(--text-light);}
    @media(max-width:720px){body{padding:20px;}}
  </style>
</head>
<body>
  <header>
    <div style="display:flex;align-items:center;gap:14px;">
      <div class="logo">üßä</div>
      <div class="title-wrap">
        <div class="title">Tahleel Notes</div>
        <div class="subtitle">Your modern crystal glass notes</div>
      </div>
    </div>
    <div class="toolbar">
      <button id="viewToggle">üî≥ View</button>
      <button id="themeToggle">üåô Dark</button>
      <button id="clearAll">üóëÔ∏è Clear</button>
    </div>
  </header>

  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="üîç Search notes by title or content...">
  </div>

  <div class="input-section">
    <input type="text" id="noteTitle" placeholder="Title">
    <textarea id="noteText" rows="4" placeholder="Write your note..."></textarea>
    <button id="createNote">Create Note</button>
  </div>

  <div class="notes" id="notes"></div>
  <div class="toast" id="toast">Copied!</div>

  <script>
    const notesContainer=document.getElementById('notes');
    const createBtn=document.getElementById('createNote');
    const noteTitle=document.getElementById('noteTitle');
    const noteText=document.getElementById('noteText');
    const clearBtn=document.getElementById('clearAll');
    const viewToggle=document.getElementById('viewToggle');
    const themeToggle=document.getElementById('themeToggle');
    const toast=document.getElementById('toast');
    const searchInput=document.getElementById('searchInput');

    let notes=JSON.parse(localStorage.getItem('glassNotes')||'[]');
    let gridView=true;

    function showToast(msg='Copied!'){
      toast.textContent=msg;
      toast.classList.add('show');
      setTimeout(()=>toast.classList.remove('show'),1200);
    }

    function saveNotes(){localStorage.setItem('glassNotes',JSON.stringify(notes));}

    function renderNotes(){
      const query=searchInput.value.toLowerCase();
      notesContainer.innerHTML='';
      notes.filter(note=>note.title.toLowerCase().includes(query)||note.text.toLowerCase().includes(query))
      .sort((a,b)=>b.fav - a.fav)
      .forEach((note,i)=>{
        const card=document.createElement('div');card.className='card';
        card.innerHTML=`<div class='note-title'>${note.title}</div><div class='note-text'>${note.text}</div>
        <div class='actions'>
          <button class='icon-btn pin' title='Pin to Top'>üìå</button>
          <button class='icon-btn fav' title='Favorite'>‚≠ê</button>
          <button class='icon-btn edit' title='Edit'>‚úèÔ∏è</button>
          <button class='icon-btn del' title='Delete'>üóëÔ∏è</button>
        </div>`;
        card.onclick=()=>{navigator.clipboard.writeText(note.text);showToast('Note text copied!');};
        card.querySelector('.del').onclick=(e)=>{e.stopPropagation();if(confirm('Delete this note?')){notes.splice(i,1);saveNotes();renderNotes();}};
        card.querySelector('.edit').onclick=(e)=>{e.stopPropagation();const newTitle=prompt('Edit title',note.title)||note.title;const newText=prompt('Edit text',note.text)||note.text;note.title=newTitle;note.text=newText;saveNotes();renderNotes();};
        card.querySelector('.fav').onclick=(e)=>{e.stopPropagation();note.fav=!note.fav;saveNotes();renderNotes();};
        card.querySelector('.pin').onclick=(e)=>{e.stopPropagation();const pinned=notes.splice(i,1)[0];notes.unshift(pinned);saveNotes();renderNotes();};
        if(note.fav) card.style.border='2px solid gold';
        notesContainer.appendChild(card);
      });
    }

    createBtn.onclick=()=>{
      const title=noteTitle.value.trim();
      const text=noteText.value.trim();
      if(!text)return;
      notes.push({title:title||'Untitled',text,fav:false});
      saveNotes();renderNotes();noteTitle.value='';noteText.value='';
    };

    clearBtn.onclick=()=>{if(confirm('Delete all notes?')){notes=[];saveNotes();renderNotes();}};
    viewToggle.onclick=()=>{gridView=!gridView;notesContainer.style.display=gridView?'grid':'block';};
    themeToggle.onclick=()=>{document.body.classList.toggle('dark-mode');themeToggle.textContent=document.body.classList.contains('dark-mode')?'üå§ Light':'üåô Dark';};
    searchInput.oninput=()=>renderNotes();

    renderNotes();
  </script>
</body>
</html>
